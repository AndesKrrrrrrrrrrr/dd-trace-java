plugins {
  id 'java-test-fixtures'
}

muzzle {
  pass {
    coreJdk()
  }
}

apply from: "$rootDir/gradle/java.gradle"

apply plugin: 'org.unbroken-dome.test-sets'
apply plugin: 'call-site-instrumentation'

testSets {
  latestDepTest {
    dirName = 'test'
  }
}

sourceCompatibility = JavaVersion.VERSION_1_8
targetCompatibility = JavaVersion.VERSION_1_8

dependencies {
  compileOnly(project(':dd-java-agent:agent-iast'))
  testImplementation(testFixtures(project(':dd-java-agent:agent-iast')))
  testRuntimeClasspath project(':dd-java-agent:instrumentation:iast-instrumenter')
}



tasks.compileTestJava.configure {
  setJavaVersion(it, 8)
}

