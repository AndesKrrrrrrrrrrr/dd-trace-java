apply from: "${rootDir}/gradle/java.gradle"

tasks.withType(Test).configureEach {
  jacoco {
    // FIXME: we should write tests and enable this!
    enabled = false
  }
}

dependencies {
  compile deps.slf4j
  compile project(':dd-trace-api')

  compile project(':dd-java-agent:agent-profiling:profiling-controller')

  compile group: 'com.squareup.okhttp3', name: 'okhttp', version: '3.14.1'

  testCompile deps.junit5
  testCompile deps.guava
  testCompile group: 'org.mockito', name: 'mockito-core', version: '2.28.2'
  testCompile group: 'org.mockito', name: 'mockito-junit-jupiter', version: '2.28.2'
  testCompile group: 'org.hamcrest', name: 'hamcrest', version: '2.1'
  testCompile group: 'javax.servlet', name: 'javax.servlet-api', version: '4.0.1'
  testCompile group: 'org.javadelight', name: 'delight-fileupload', version: '0.0.5'
  testCompile group: 'com.squareup.okhttp3', name: 'mockwebserver', version: '3.14.1'
}

/* We use Java8 features, but there is no code needing JFR libraries */
sourceCompatibility = JavaVersion.VERSION_1_8
targetCompatibility = JavaVersion.VERSION_1_8
